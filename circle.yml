general:
  artifacts:
    - "target/app.jar"
machine:
  environment:
    SPRING_PROFILES_ACTIVE: test
  timezone:
    America/Bogota
  java:
    version: oraclejdk8
dependencies:
  override:
    - git config --global user.email circleci@circleci
    - git config --global user.name CircleCI
    - mvn --fail-never dependency:go-offline || true
deployment:
  staging:
    branch: master
    commands:
      - [[ `git log -1` =~ "[maven-release-plugin]" ]] || mvn -B release:prepare